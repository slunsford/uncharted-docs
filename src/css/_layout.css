.layout {
  display: grid;
  grid-template-columns: var(--sidebar-width) 1fr var(--toc-width);
  min-height: 100vh;
}

.content {
  padding: var(--spacing-2xl);
  max-width: calc(var(--content-max-width) + var(--spacing-2xl) * 2);
  min-width: 0;
}

.sidebar-toggle {
  display: none;
  position: fixed;
  top: var(--spacing-md);
  left: var(--spacing-md);
  z-index: 100;
  padding: var(--spacing-sm);
  background-color: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 0.375rem;
  cursor: pointer;
  color: var(--color-text);
}

.sidebar-toggle:hover {
  background-color: var(--color-bg-subtle);
}

/* Medium screens: hide TOC sidebar */
@media (max-width: 80rem) {
  .layout {
    grid-template-columns: var(--sidebar-width) 1fr;
  }

  .toc-sidebar {
    display: none;
  }

  .doc-toc-inline {
    display: block;
  }
}

/* Small screens: collapsible sidebar */
@media (max-width: 48rem) {
  .layout {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
  }

  .sidebar-toggle {
    display: flex;
  }

  .content {
    grid-column: 1;
    grid-row: 1;
    padding: var(--spacing-md);
    padding-top: 4rem;
  }

  .toc-sidebar {
    display: none;
  }

  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: var(--sidebar-width);
    height: 100vh;
    height: 100dvh;
    z-index: 50;
    transform: translateX(-100%);
    transition: transform var(--transition-base);
    grid-row: 1;
    grid-column: 1;
    padding-top: 3.5rem;
  }

  .sidebar.is-open {
    transform: translateX(0);
  }
}
